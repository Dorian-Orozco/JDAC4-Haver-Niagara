@using System.ComponentModel.DataAnnotations
@model Haver_Niagara.Models.NCR

@if (User.IsInRole("Admin") && Model.NCR_Stage == NCRStage.Engineering)
{
    <script>
        // Get the ID of the NCR
        var ncrId = '@Model.ID';

        // Redirect to the edit page with the NCR ID
        window.location.href = '@Url.Action("EngineeringEdit", "NCRs", new { id = "ncrIdValue" })'.replace('ncrIdValue', ncrId);
    </script>
}
@if (User.IsInRole("Admin") && Model.NCR_Stage == NCRStage.Operations)
{
    <script>
        // Get the ID of the NCR
        var ncrId = '@Model.ID';

        // Redirect to the edit page with the NCR ID
        window.location.href = '@Url.Action("OperationEdit", "NCRs", new { id = "ncrIdValue" })'.replace('ncrIdValue', ncrId);
    </script>
}

@if (User.IsInRole("Admin") && Model.NCR_Stage == NCRStage.Procurement)
{
    <script>
        // Get the ID of the NCR
        var ncrId = '@Model.ID';

        // Redirect to the edit page with the NCR ID
        window.location.href = '@Url.Action("ProcurementEdit", "NCRs", new { id = "ncrIdValue" })'.replace('ncrIdValue', ncrId);
    </script>
}

@if (User.IsInRole("Admin") && Model.NCR_Stage == NCRStage.QualityRepresentative_Final)
{
    <script>
        // Get the ID of the NCR
        var ncrId = '@Model.ID';

        // Redirect to the edit page with the NCR ID
        window.location.href = '@Url.Action("QualityRepresentativeEdit", "NCRs", new { id = "ncrIdValue" })'.replace('ncrIdValue', ncrId);
    </script>
}